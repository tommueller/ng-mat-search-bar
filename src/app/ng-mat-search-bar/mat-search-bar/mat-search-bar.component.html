<ng-container [ngSwitch]="mode">
  <mat-form-field
    *ngSwitchCase="DISPLAY_TYPE.AUTOCOMPLETE"
    class="mat-search_field"
    [@slideInOut]="searchVisible"
    [appearance]="appearance"
  >
    <input
      #input
      matInput
      type="text"
      [(ngModel)]="value"
      [matAutocomplete]="matAutocomplete"
      [placeholder]="placeholder"
      (ngModelChange)="updateChanges()"
      (blur)="onBlurring(input.value)"
      (keyup.enter)="onEnterring(input.value)"
      (focus)="onFocussing(input.value)"
      autocapitalize="none"
    />
  </mat-form-field>
  <mat-form-field
    *ngSwitchCase="DISPLAY_TYPE.FORMCONTROL"
    class="mat-search_field"
    [@slideInOut]="searchVisible"
    [appearance]="appearance"
  >
    <input
      #input
      matInput
      type="text"
      [placeholder]="placeholder"
      [formControl]="formControl"
      (blur)="onBlurring(input.value)"
      (keyup.enter)="onEnterring(input.value)"
      (focus)="onFocussing(input.value)"
      autocapitalize="none"
    />
  </mat-form-field>
  <mat-form-field
    *ngSwitchCase="DISPLAY_TYPE.FORMCONTROLANDAUTOCOMPLETE"
    class="mat-search_field"
    [@slideInOut]="searchVisible"
    [appearance]="appearance"
  >
    <input
      #input
      matInput
      type="text"
      [matAutocomplete]="matAutocomplete"
      [placeholder]="placeholder"
      [formControl]="formControl"
      (blur)="onBlurring(input.value)"
      (keyup.enter)="onEnterring(input.value)"
      (focus)="onFocussing(input.value)"
      autocapitalize="none"
    />
  </mat-form-field>
  <mat-form-field
    *ngSwitchDefault
    class="mat-search_field"
    [@slideInOut]="searchVisible"
    [appearance]="appearance"
  >
    <input
      #input
      matInput
      type="text"
      [(ngModel)]="value"
      [placeholder]="placeholder"
      (ngModelChange)="updateChanges()"
      (blur)="onBlurring(input.value)"
      (keyup.enter)="onEnterring(input.value)"
      (focus)="onFocussing(input.value)"
      autocapitalize="none"
    />
  </mat-form-field>
</ng-container>

<span class="mat-search_icons" [class.mat-search_icons--active]="searchVisible">
  <mat-icon class="mat-search_icon-close" (click)="close()" matRipple>
    close
  </mat-icon>
  <mat-icon class="mat-search_icon-search" (click)="open()" matRipple>
    search
  </mat-icon>
</span>
